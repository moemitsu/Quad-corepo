# コーディング規約

## 一般規約
1. **命名規則**
   - 変数名、関数名はキャメルケース（例: `myVariable`, `myFunction`）を使用。
   - クラス名はパスカルケース（例: `MyClass`）を使用
   - ファイル名はキャメルケース（例: `pageSample`）
   - 環境変数はすべて大文字のスネークケース（例: `API_KEY`）
   - ディレクトリ名は全て小文字で単語間をハイフンにする。（例: `example-sample`）

2. **コメント**
   - コードの意図や複雑なロジックを説明するためにコメントを適切に使用。
   - TODOコメントには、対応する課題や改善点を明記（例: `// TODO: パフォーマンスを向上させるためにこの関数をリファクタリングする`）。

3. **インデント**
   - インデントはスペース2つを使用。
   - コードのブロックは適切にインデントする。

## フロントエンド（Next.js + TypeScript）
1. **ファイル構成**
   - コンポーネントは`_components`フォルダに保存。
   - ページ名は`pages`とする。
   - ページは適切に命名したディレクトリに保存。
   - カスタムフックは`hooks`フォルダに保存。

2. **TypeScript**
   - 全てのファイルに型を明示。
   - any型の使用は避け、必要な場合は理由をコメントで説明。
   - インターフェースや型エイリアスは適切に使用し、再利用可能な型定義を行う。

3. **React**
   - 関数コンポーネントを使用。
   - 必要な場合は、React.memoやuseMemoなどのパフォーマンス最適化フックを使用。
   - コンポーネントの冒頭にコンポーネントの説明コメントを追加。

## バックエンド（FastAPI + Python）
1. **ファイル構成**
   - ルータは`routers`フォルダに保存。
   - モデルは`models`フォルダに保存。
   - サービスロジックは`services`フォルダに保存。

2. **Python**
   - PEP 8スタイルガイドに準拠。
   - 型ヒントを積極的に使用し、コードの可読性と保守性を向上。
   - ドキュメント文字列（docstrings）を使用し、関数やクラスの説明を記載。

3. **FastAPI**
   - エンドポイントは適切にバージョニング（例: `/api/v1/resource`）。
   - 依存関係の注入を利用し、テスト可能なコードを記述。
   - レスポンスモデルを使用し、APIの出力を明示。

## データベース（PostgreSQL）
1. **スキーマ**
   - テーブル名、カラム名はスネークケース（例: `user_profile`）を使用。
   - 適切なインデックスを作成し、クエリパフォーマンスを最適化。

2. **ORM**
   - SQLAlchemyや他のORMツールを使用してデータベース操作を行う。
   - クエリは可能な限りSQLインジェクションを避けるため、プレースホルダーを使用。

## 認証（Firebase）
1. **設定**
   - Firebaseプロジェクトの設定情報は環境変数として管理し、`.env`ファイルを使用。
   - 認証トークンは適切に検証し、セキュリティを確保。

## 決済（Stripe）
1. **設定**
   - StripeのAPIキーは環境変数として管理し、`.env`ファイルを使用。
   - トランザクション処理はセキュアに行い、エラーハンドリングを徹底。

## 外部API（OpenAI）
1. **設定**
   - OpenAIのAPIキーは環境変数として管理し、`.env`ファイルを使用。
   - APIリクエストのレスポンスを適切に処理し、エラーハンドリングを行う。
